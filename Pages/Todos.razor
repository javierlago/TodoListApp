@page "/todos"

<h3>Lista de Tareas</h3>

@if (Items == null || !Items.Any())
{
    <p>No hay tareas aún.</p>
}
else
{
    <ul>
    @foreach (var item in Items)
    {
        <li>
            <input type="checkbox"
                   checked="@item.IsDone"
                   @onchange="@((ChangeEventArgs e) => ToggleDone(item.Id))" />
            @item.Title (@(item.IsDone ? "Hecha" : "Pendiente"))

            <button class="btn btn-sm btn-danger ms-2" @onclick="() => DeleteTodo(item.Id)">
                Eliminar
            </button>

        </li>
    }
</ul>

}
<EditForm Model="@newItem" OnValidSubmit="AddTodo">
    <DataAnnotationsValidator />

    <div class="mb-3">
        <label>Título de la tarea:</label>
        <InputText class="form-control" @bind-Value="newItem.Title" />
        <ValidationMessage For="@(() => newItem.Title)" />
    </div>

    <button type="submit" class="btn btn-primary">Añadir tarea</button>
</EditForm>
